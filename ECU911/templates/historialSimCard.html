{% extends 'base.html' %}

{% block head %}

        <!-- DataTables CSS -->
        <link rel="stylesheet" type="text/css" href="/static/DataTables/media/css/jquery.dataTables.css">

        <!-- jQuery -->
        <script type="text/javascript" charset="utf8" src="/static/DataTables/media/js/jquery.js"></script>

        <!-- DataTables -->
        <script type="text/javascript" charset="utf8" src="/static/DataTables/media/js/jquery.dataTables.js"></script>


{% endblock %}

{% block body %}
  <div class="container cent">
  <div class="row well titulos">HISTORIAL DE SIM CARD</div>
   <div class="row">

    <div class="table-responsive">
                                <table class="table table-striped table-content table-bordered table-hover " xmlns="http://www.w3.org/1999/html" id="table_id2">

                                <thead class="btn-primary cabeceraTabla">
                                <th>ID</th>
                                <th>LÍNEA #</th>
                                <th class="col-md-1">SIMCARD</th>
                                <th>FECHA SOLICITUD</th>
                                <th>FECHA INICIO</th>
                                <th>ACTUAL</th>
                                </thead>

                                <tbody>

                                    {% for i in registros %}
                                        <tr>
                                        <td id="id_{{ i.si_id }}">{{i.si_id}}</td>
                                        <td id="id_{{ i.si_numero_linea }}">{{i.si_numero_linea}}</td>
                                        <td id="id_{{ i.si_simcard }}">{{i.si_simcard}}</td>
                                        <td id="id_{{ i.si_fecha_solicitud }}">{{i.si_fecha_solicitud}}</td>
                                        <td id="id_{{ i.si_fecha_inicio }}">{{i.si_fecha_inicio}}</td>
                                        <td id="id_{{ i.si_actual }}">{{i.si_actual}}</td>
                                        <!--<td>
                                            <span class="btn glyphicon glyphicon-edit" style="color: #418BCA; width: 1px;padding-top:0px;height: 1px;vertical-align: baseline" aria-hidden="true" onclick="editarRegistro({{ i.un_id }} , '{{ i.un_institucion }}' , '{{ i.un_departamento}}'  , '{{ i.un_ciudad }}' , '{{ i.un_tipo }}' , '{{ i.un_estado }}' , '{{ i.un_unidad }}', '{{ i.un_codigo_gis }}', '{{ i.un_persona }}', '{{ i.un_telefono }}' ,  '{{ i.un_notas }}', '{{ i.un_placa }}', '{{ i.un_modelo }}', '{{ i.un_uso }}', '{{ i.un_asignado_sistema | safe}}' )" data-toggle="modal" data-target="#myModal"></span>
                                            <span class="btn glyphicon glyphicon-remove" style="color: red;width: 1px;padding-top:0px;height: 1px; vertical-align: baseline" aria-hidden="true"></span>
                                        </td>-->
                                        </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>

    </div>
</div>






<!-- modal de editar-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"  data-backdrop="static">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Editar GPS</h4>
      </div>
      <div class="modal-body">

<form method="POST" action="/editarGPS/" class="well"  role="form" >

 <div class="row">
      <div class="col-md-4">
          <div class="form-group">
            <label for="idTitle">ID</label>
            <input type="text" name="id" class="form-control" id="idTitle" readonly="readonly">
          </div>
      </div>
      <div class="col-md-4">
          <div class="form-group">
            <label for="institucionTitle">Institución</label>
            <input type="text" name="institucion" class="form-control" id="institucionTitle" >
          </div>
      </div>

     <div class="col-md-4">
         <div class="form-group">
            <label for="id">Departamento</label>
            <input type="text" name="departamento" class="form-control" id="departamentoTitle" >
          </div>
     </div>

  </div>

  <div class="row">
      <div class="col-md-4">
        <div class="form-group">
            <label for="ciudadTitle">Ciudad</label>
            <input type="text" name="ciudad" class="form-control" id="ciudadTitle" >
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
            <label for="tipoTitle" >Tipo</label>
            <input type="text"  name="tipo" class="form-control" id="tipoTitle" >
        </div>
       </div>

      <div class="col-md-4">
        <div class="form-group">
            <label for="estadoTitle" >Estado</label>
            <input type="text"  name="estado" class="form-control" id="estadoTitle" >
        </div>
       </div>

  </div>

  <div class="row">
      <div class="col-md-4">
        <div class="form-group">
            <label for="unidadTitle">Unidad</label>
            <input type="text" name="unidad" class="form-control" id="unidadTitle" value="" >
        </div>
      </div>

      <div class="col-md-8">
        <div class="form-group">
            <label for="codigo_gisTitle">Código GIS</label>
            <input type="text" name="codigo_gis" class="form-control" id="codigo_gisTitle" value="" >
        </div>
      </div>
  </div>

  <div class="row">

      <div class="col-md-4">
          <div class="form-group">
            <label for="personaTitle">Persona</label>
            <input type="text" name="persona" class="form-control" id="personaTitle" value="">
          </div>
      </div>

      <div class="col-md-4">
          <div class="form-group">
            <label for="telefonoTitle">Teléfono</label>
            <input type="text" name="telefono" class="form-control" id="telefonoTitle" value="">
          </div>
      </div>

      <div class="col-md-4">
          <div class="form-group">
            <label for="origenTitle">Notas</label>
            <input type="text" name="notas" class="form-control" id="notasTitle" value="">
          </div>
      </div>

  </div>


  <div class="row">

      <div class="col-md-4">
          <div class="form-group">
            <label for="placaTitle">Placa</label>
            <input type="text" name="placa" class="form-control" id="placaTitle" value="">
          </div>
      </div>

      <div class="col-md-4">
          <div class="form-group">
            <label for="modeloTitle">Modelo</label>
            <input type="text" name="modelo" class="form-control" id="modeloTitle" value="">
          </div>
      </div>

      <div class="col-md-4">
          <div class="form-group">
            <label for="usoTitle">Uso</label>
            <input type="text" name="uso" class="form-control" id="usoTitle" value="">
          </div>
      </div>

  </div>

    <div class="row">
      <div class="col-md-5">
          <div class="form-group">
            <label for="asignado_sistemaTitle">Asignado Sistema(YYYY/MM/DD HH:MM:SS)</label>
            <input type="text" name="asignado_sistema" class="form-control" id="asignado_sistemaTitle" value="">
          </div>
      </div>
<!--
        <div class="col-md-4">
          <div class="form-group">
            <label for="asignado_sisstemaTitle">Asignado Sistema</label>
            <input type="datetime" name="asignado_sistsema" class="form-control" id="asignado_sistemaTitlse" value="">
          </div>
      </div>
 -->
    </div>


      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar sin editar</button>
        <button type="submit" class="btn btn-primary">Editar Registro</button>
          </div>
          </form>

      </div>
    </div>
  </div>

</div>
<!-- fin del modal editar-->


{% endblock %}

{% block js %}
    <script>

    $("#inicio").removeClass("active");
    $("#lineas").addClass("active");

    $(document).ready(function() {
        $('#table_id2').dataTable( {
            "order": [],
            "aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "Todos"]],
            "language": {
                "sProcessing":     "Procesando...",
                "sLengthMenu":     "Mostrar _MENU_ registros",
                "sZeroRecords":    "No se encontraron resultados",
                "sEmptyTable":     "Ningún dato disponible en esta tabla",
                "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                "sInfoPostFix":    "",
                "sSearch":         "Buscar:",
                "sUrl":            "",
                "sInfoThousands":  ",",
                "sLoadingRecords": "Cargando...",
                "oPaginate": {
                    "sFirst":    "Primero",
                    "sLast":     "Último",
                    "sNext":     "Siguiente",
                    "sPrevious": "Anterior"
                },
                "oAria": {
                    "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                    "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                }
            }
        } );
    } );



    function editarRegistro(id, institucion, departamento, ciudad, tipo, estado, unidad, codigo_gis, persona, telefono, notas, placa, modelo, uso, asignado_sistema){


        $("#idTitle").val(id);
        $("#institucionTitle").val(institucion);
        $("#departamentoTitle").val(departamento);
        $("#ciudadTitle").val(ciudad);
        $("#tipoTitle").val(tipo);
        $("#estadoTitle").val(estado);
        $("#unidadTitle").val(unidad);
        $("#codigo_gisTitle").val(codigo_gis);
        $("#personaTitle").val(persona);
        $("#telefonoTitle").val(telefono);
        $("#notasTitle").val(notas);
        $("#placaTitle").val(placa);
        $("#modeloTitle").val(modelo);
        $("#usoTitle").val(uso);
        $("#asignado_sistemaTitle").val(asignado_sistema);

    }

    </script>
{% endblock %}